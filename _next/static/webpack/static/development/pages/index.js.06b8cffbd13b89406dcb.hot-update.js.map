{"version":3,"file":"static/webpack/static/development/pages/index.js.06b8cffbd13b89406dcb.hot-update.js","sources":["webpack:///./components/dropzone.js"],"sourcesContent":["import css from './dropzone.scss'\nimport Typography from './typography';\n\nexport default class DropZone extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      warning: '',\n      loading: false\n    }\n    this.fileInput = React.createRef()\n\n    this.onClick = (e) => {\n      e.stopPropagation()\n      this.fileInput.current.click()\n    }\n\n    this.onFileAdded = (e) => {\n      const file = e.target.files[0]\n      e.target.value = null\n      if (file.name.indexOf('.svg') !== file.name.length - '.svg'.length) {\n        this.setState({\n          warning: `${file.name} does not appear to be an SVG file: make sure it is a plain text SVG file.`\n        })\n      } else {\n        this.setState({\n          warning: null,\n          loading: true\n        })\n        const filereader = new FileReader()\n        filereader.onload = () => {\n          let error\n          try {\n            this.props.onUpload({\n              filename: file.name,\n              contents: filereader.result\n            })\n          } catch (e) {\n            console.error(e)\n            error = e\n          }\n          this.setState({\n            warning: error ? error.message : null,\n            loading: false\n          })\n        }\n        filereader.readAsText(file)\n      }\n    }\n  }\n\n  renderWarning() {\n    const {\n      warning\n    } = this.state\n\n    if (!warning) return null\n    return (\n      <div>\n        {warning}\n      </div>\n    )\n  }\n\n  render() {\n    const hasWarning = !!this.state.warning\n    return (\n      <div\n        className={css.container}\n        onClick={this.onClick}\n        tabIndex=\"0\"\n      >\n        <Typography.Button>Drag file or click here to upload</Typography.Button>\n        <input\n          className={css.input}\n          ref={this.fileInput}\n          onChange={this.onFileAdded}\n          accept=\"image/svg+xml\"\n          type=\"file\"\n        />\n      </div>\n    )\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAFA;AACA;AAGA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AA7CA;AA6CA;AACA;;;AACA;AAAA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;AA/EA;AACA;;;;;A","sourceRoot":""}