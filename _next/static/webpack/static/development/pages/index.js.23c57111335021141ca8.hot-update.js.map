{"version":3,"file":"static/webpack/static/development/pages/index.js.23c57111335021141ca8.hot-update.js","sources":["webpack:///./components/slider.js"],"sourcesContent":["import Label from \"./label\";\nimport Typography from \"./typography\";\nimport css from './slider-toggle.scss'\nimport * as cx from 'classnames'\n\nconst noopFormat = v => v\nconst noop = () => {}\n\nexport default class Slider extends React.PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isActive: false,\n    }\n\n    this.track = React.createRef()\n\n    this.setAbsolute = (e) => {\n      const { onChange = noop } = this.props\n      onChange(this.computeNewValue(e.clientX))\n    }\n    this.onMouseMove = (e) => {\n      const newv = this.computeNewValue(e.clientX)\n      const { onChange = noop } = this.props\n      if (!this.state.isActive) { return }\n      onChange(newv)\n    }\n    this.onThumbDown = () => {\n      this.setState({ isActive: true })\n      document.addEventListener('mousemove', this.onMouseMove)\n      document.addEventListener('mouseup', this.onThumbUp)\n    }\n    this.onThumbUp = () => {\n      this.setState({ isActive: false })\n      document.removeEventListener('mousemove', this.onMouseMove)\n      document.removeEventListener('mouseup', this.onThumbUp)\n    }\n  }\n  computeNewValue(clientX) {\n    const rect = this.track.current.getBoundingClientRect()\n    const newpct = (clientX - rect.left) / rect.width\n    const {\n      min = 0,\n      max = 1,\n      step = 1\n    } = this.props\n    const domainvalue = (newpct * (max - min) + min)\n    const steppedvalue = Math.round(domainvalue / step) * step\n    const boundvalue = Math.max(min, Math.min(max, steppedvalue))\n    return boundvalue\n  }\n  computeRunnerStyle(pct) {\n    return {\n      width: `${(pct*100).toFixed(2)}%`\n    }\n  }\n  computeThumbStyle(pct) {\n    const percentage = `${(pct*100).toFixed(2)}%`\n    const offset = (pct * 16).toFixed(2) + 'px'\n    return {\n      left: `calc(${percentage} - ${offset})`\n    }\n  }\n  render() {\n    const {\n      label,\n      format = noopFormat,\n      value,\n      min = 0,\n      max = 1,\n      step = 1\n    } = this.props\n    const {\n      isActive\n    } = this.state\n\n    const pct = (Math.round(value / step) * step - min) / (max - min)\n\n\n    return (\n      <div>\n        <Label>\n          {label}\n          <Typography.Small>{format(value)}</Typography.Small>\n        </Label>\n        <div\n          className={css.trackcontainer}\n          onClick={this.setAbsolute}\n        >\n          <div className={css.track} ref={this.track}>\n            <div\n              className={css.runner}\n              style={this.computeRunnerStyle(pct)}\n            />\n            <div\n              className={cx(css.thumb, { [css.thumbactive]: isActive })}\n              onMouseDown={this.onThumbDown}\n              style={this.computeThumbStyle(pct)}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class Toggle extends Slider {\n  render() {\n    const {\n      label,\n      value\n    } = this.props\n    return (\n      <div>\n        <input type='checkbox'/>\n        <div\n          className={css.trackcontainer}\n          onClick={this.setAbsolute}\n        >\n          <div className={css.track} ref={this.track}>\n            <div\n              className={css.runner}\n              style={this.computeRunnerStyle(pct)}\n            />\n            <div\n              className={cx(css.thumb, { [css.thumbactive]: isActive })}\n              onMouseDown={this.onThumbDown}\n              style={this.computeThumbStyle(pct)}\n            />\n          </div>\n        </div>\n        <Label>\n          {label}\n        </Label>\n      </div>\n    )\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AADA;AAIA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AA5BA;AA4BA;AACA;;;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AADA;AAGA;;;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;AA/FA;AACA;AADA;AAkGA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAAA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AA9BA;AACA;AADA;AAAA;;;;A","sourceRoot":""}